/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/genderchoice_screen/GenderChoiceViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

GenderChoiceViewBase::GenderChoiceViewBase() :
    flexButtonCallback(this, &GenderChoiceViewBase::flexButtonCallbackHandler)
{

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    ChildrenBackground.setBitmap(touchgfx::Bitmap(BITMAP_BACKEND4_ID));
    ChildrenBackground.setPosition(0, 0, 480, 272);
    ChildrenBackground.setVisible(false);
    ChildrenBackground.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    DarkBackground.setBitmap(touchgfx::Bitmap(BITMAP_BACKEND3_ID));
    DarkBackground.setPosition(0, 0, 480, 272);
    DarkBackground.setVisible(false);
    DarkBackground.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    DefaultBackground.setBitmap(touchgfx::Bitmap(BITMAP_BACKEND2_ID));
    DefaultBackground.setPosition(0, 0, 480, 272);
    DefaultBackground.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    FemaleBtnBox.setPosition(272, 94, 183, 111);
    FemaleBtnBox.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    FemaleBtnBox.setAlpha(90);

    FemaleBtn.setText(TypedText(T___SINGLEUSE_IZWW));
    FemaleBtn.setTextPosition(-2, 6, 183, 111);
    FemaleBtn.setTextColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(133, 133, 133));
    FemaleBtn.setPosition(272, 94, 183, 111);
    FemaleBtn.setAction(flexButtonCallback);

    MaleBtnBox.setPosition(20, 94, 183, 111);
    MaleBtnBox.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    MaleBtnBox.setAlpha(90);

    MaleBtn.setText(TypedText(T___SINGLEUSE_H5TO));
    MaleBtn.setTextPosition(-2, 6, 183, 111);
    MaleBtn.setTextColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(133, 133, 133));
    MaleBtn.setPosition(20, 94, 183, 111);
    MaleBtn.setAction(flexButtonCallback);

    Title.setXY(202, 13);
    Title.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    Title.setLinespacing(0);
    Title.setTypedText(touchgfx::TypedText(T___SINGLEUSE_X80P));

    BackBtnBox.setPosition(381, 3, 95, 32);
    BackBtnBox.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    BackBtnBox.setAlpha(90);

    BackBtn.setText(TypedText(T___SINGLEUSE_9ZZ9));
    BackBtn.setTextPosition(-6, 7, 95, 32);
    BackBtn.setTextColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(133, 133, 133));
    BackBtn.setPosition(381, 3, 95, 32);
    BackBtn.setAction(flexButtonCallback);

    BackArrow.setBitmap(touchgfx::Bitmap(BITMAP_GROUPE49_ID));
    BackArrow.setPosition(394, 14, 18, 11);
    BackArrow.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    FemaleIcon.setXY(337, 134);
    FemaleIcon.setBitmap(touchgfx::Bitmap(BITMAP_FEMALE_ID));

    MaleIcon.setXY(77, 131);
    MaleIcon.setBitmap(touchgfx::Bitmap(BITMAP_MALE_GENDER_ID));

    add(__background);
    add(ChildrenBackground);
    add(DarkBackground);
    add(DefaultBackground);
    add(FemaleBtnBox);
    add(FemaleBtn);
    add(MaleBtnBox);
    add(MaleBtn);
    add(Title);
    add(BackBtnBox);
    add(BackBtn);
    add(BackArrow);
    add(FemaleIcon);
    add(MaleIcon);
}

void GenderChoiceViewBase::setupScreen()
{

}

void GenderChoiceViewBase::ChooseGender(uint8_t value)
{
    //FinishSelection
    //When ChooseGender is called change screen to NewPatient
    //Go to NewPatient with screen transition towards North
    application().gotoNewPatientScreenWipeTransitionNorth();
}

void GenderChoiceViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &FemaleBtn)
    {
        //ChooseFemale
        //When FemaleBtn clicked call ChooseGender on GenderChoice
        //Call ChooseGender
        ChooseGender(2);
    }
    else if (&src == &MaleBtn)
    {
        //ChooseMale
        //When MaleBtn clicked call ChooseGender on GenderChoice
        //Call ChooseGender
        ChooseGender(1);
    }
    else if (&src == &BackBtn)
    {
        //Back
        //When BackBtn clicked change screen to NewPatient
        //Go to NewPatient with screen transition towards North
        application().gotoNewPatientScreenWipeTransitionNorth();
    }
}
