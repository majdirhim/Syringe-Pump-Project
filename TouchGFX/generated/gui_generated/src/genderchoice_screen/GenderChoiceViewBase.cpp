/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/genderchoice_screen/genderchoiceViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

genderchoiceViewBase::genderchoiceViewBase() :
    buttonCallback(this, &genderchoiceViewBase::buttonCallbackHandler),
    flexButtonCallback(this, &genderchoiceViewBase::flexButtonCallbackHandler)
{

    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));

    BackendBlack.setBitmap(touchgfx::Bitmap(BITMAP_BACKEND3_ID));
    BackendBlack.setPosition(0, 0, 480, 272);
    BackendBlack.setVisible(false);
    BackendBlack.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    BackendChildren.setBitmap(touchgfx::Bitmap(BITMAP_BACKEND4_ID));
    BackendChildren.setPosition(0, 0, 481, 272);
    BackendChildren.setVisible(false);
    BackendChildren.setScalingAlgorithm(touchgfx::ScalableImage::NEAREST_NEIGHBOR);

    backend.setXY(1, 0);
    backend.setBitmap(touchgfx::Bitmap(BITMAP_MINI_BACKEND2_ID));

    buttonWithmale.setXY(61, 91);
    buttonWithmale.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_SQUARE_LARGE_PRESSED_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_SQUARE_LARGE_PRESSED_ID));
    buttonWithmale.setLabelText(touchgfx::TypedText(T___SINGLEUSE_C4JK));
    buttonWithmale.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithmale.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithmale.setAction(buttonCallback);

    buttonWithfemale.setXY(61, 175);
    buttonWithfemale.setBitmaps(touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_SQUARE_LARGE_PRESSED_ID), touchgfx::Bitmap(BITMAP_BLUE_BUTTONS_SQUARE_LARGE_PRESSED_ID));
    buttonWithfemale.setLabelText(touchgfx::TypedText(T___SINGLEUSE_9VX2));
    buttonWithfemale.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithfemale.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithfemale.setAction(buttonCallback);

    box1.setPosition(378, 10, 95, 32);
    box1.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    box1.setAlpha(90);

    Back.setIconBitmaps(Bitmap(BITMAP_GROUPE49_ID), Bitmap(BITMAP_GROUPE49_ID));
    Back.setIconXY(16, 9);
    Back.setText(TypedText(T___SINGLEUSE_5UV9));
    Back.setTextPosition(23, 6, 95, 32);
    Back.setTextColors(touchgfx::Color::getColorFromRGB(245, 245, 245), touchgfx::Color::getColorFromRGB(242, 242, 242));
    Back.setPosition(378, 10, 95, 32);
    Back.setAction(flexButtonCallback);

    add(__background);
    add(BackendBlack);
    add(BackendChildren);
    add(backend);
    add(buttonWithmale);
    add(buttonWithfemale);
    add(box1);
    add(Back);
}

void genderchoiceViewBase::setupScreen()
{

}

void genderchoiceViewBase::gendervaar(int8_t value)
{
    //gendersave
    //When gendervaar is called call virtual function
    //Call gendersave
    gendersave(value);

    //gotopatientdatascreen
    //When gendersave completed change screen to New_Paitent
    //Go to New_Paitent with no screen transition
    application().gotoNew_PaitentScreenNoTransition();
}

void genderchoiceViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonWithmale)
    {
        //maleselect
        //When buttonWithmale clicked call gendervaar on genderchoice
        //Call gendervaar
        gendervaar(2);
    }
    else if (&src == &buttonWithfemale)
    {
        //femaleselect
        //When buttonWithfemale clicked call gendervaar on genderchoice
        //Call gendervaar
        gendervaar(1);
    }
}

void genderchoiceViewBase::flexButtonCallbackHandler(const touchgfx::AbstractButtonContainer& src)
{
    if (&src == &Back)
    {
        //Back
        //When Back clicked call gendervaar on genderchoice
        //Call gendervaar
        gendervaar(0);
    }
}
